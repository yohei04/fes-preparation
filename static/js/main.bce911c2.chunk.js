(this["webpackJsonpfes-preparation"]=this["webpackJsonpfes-preparation"]||[]).push([[0],{102:function(e,t,a){"use strict";(function(e){var n=a(16),r=a(0),c=a.n(r),s=a(66);t.a=function(t){var l=Object(r.useState)([]),i=Object(n.a)(l,2),o=i[0],u=i[1];Object(r.useEffect)((function(){p()}),[t.searchArtistName]);var m=a(194),f={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new e("81e31de55e6244b59d4f6255fd70057e:91e9a4434f46445280bd942c2f94280a").toString("base64")},form:{grant_type:"client_credentials"},json:!0},p=function(){m.post(f,(function(e,a,n){if(!e&&200===a.statusCode){var r=n.access_token,c={url:"https://api.spotify.com/v1/search?q=".concat(t.searchArtistName,"&type=artist&market=JP"),headers:{Authorization:"Bearer "+r},json:!0};m.get(c,(function(e,t,a){var n;n=void 0===a.artists.items[0]?"":a.artists.items[0].id,m.post(f,(function(e,t,a){if(!e&&200===t.statusCode){var r=a.access_token,c={url:"https://api.spotify.com/v1/artists/".concat(n,"/top-tracks?country=JP"),headers:{Authorization:"Bearer "+r},json:!0};m.get(c,(function(e,t,a){u(a.tracks)}))}}))}))}}))};return c.a.createElement("div",{className:"songs"},void 0===o||0===o.length?c.a.createElement("p",{className:"getArtistNameError"},"\u30d0\u30f3\u30c9\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002",c.a.createElement("br",null),"\u3053\u306e\u30d0\u30f3\u30c9\u306f\u307e\u3060Spotify\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u306a\u3044\u304b\u3082\u3057\u308c\u307e\u305b\u3093\u3002",c.a.createElement("br",null),"\u3082\u3057\u304f\u306f\u50d5\u306e\u5b9f\u88c5\u306e\u554f\u984c\u3067\u3059\u3002",c.a.createElement("br",null),"\u3054\u3081\u3093\uff01\uff01"):o.map((function(e,t){return c.a.createElement(s.d,{rank:t,songName:e.name,image:e.album.images[1].url,audio:e.preview_url,spotifyLink:e.external_urls.spotify})})))}}).call(this,a(3).Buffer)},184:function(e,t,a){e.exports=a(420)},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},208:function(e,t){},210:function(e,t){},220:function(e,t){},222:function(e,t){},247:function(e,t){},249:function(e,t){},250:function(e,t){},256:function(e,t){},258:function(e,t){},276:function(e,t){},279:function(e,t){},295:function(e,t){},298:function(e,t){},303:function(e,t){},305:function(e,t){},328:function(e,t){},420:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(182),s=a.n(c),l=(a(189),a(190),a(191),a(66)),i=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(l.c,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"e",(function(){return l.a})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return d}));var n=a(16),r=a(0),c=a.n(r),s=function(){var e=Object(r.useState)(""),t=Object(n.a)(e,2),a=t[0],s=t[1],i=Object(r.useState)("\u30b5\u30ab\u30ca\u30af\u30b7\u30e7\u30f3"),o=Object(n.a)(i,2),u=o[0],m=o[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),m(a)}},c.a.createElement("input",{className:"search-bar",type:"text",placeholder:"\u30d0\u30f3\u30c9\u540d",value:a,onChange:function(e){s(e.target.value)}}),c.a.createElement("button",{className:"search-button",type:"submit"},"\u691c\u7d22")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container__left"},c.a.createElement(d,{getArtistName:function(e){s(e.target.textContent),m(e.target.textContent)}})),c.a.createElement("div",{className:"container__right"},c.a.createElement(l.a,{searchArtistName:u}))))},l=a(102),i=function(e){return c.a.createElement("div",{className:"song"},c.a.createElement("h3",{className:"song__title"},c.a.createElement("span",null,e.rank+1,"\u4f4d "),c.a.createElement("span",null,e.songName)),c.a.createElement("div",{className:"song__image"},c.a.createElement("img",{src:e.image,alt:""})),c.a.createElement("div",{className:"song__playerAndFullLink flex"},null===e.audio?c.a.createElement(c.a.Fragment,null):c.a.createElement("audio",{controls:!0,preload:"none",name:"media",src:e.audio,type:"audio/mpeg",onPlay:function(){document.querySelector("audio").volume=.3}}),c.a.createElement("p",null,c.a.createElement("a",{className:"song__fullSong",href:e.spotifyLink,target:"_blank",rel:"noopener noreferrer"},"\u30d5\u30eb\u3067\u805e\u304f"))))},o=function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2);a[0],a[1];return c.a.createElement(c.a.Fragment,null,void 0===e.artists?c.a.createElement(c.a.Fragment,null):e.artists.map((function(t){return c.a.createElement("li",{className:"artistName",onClick:e.getArtistName},t)})))},u=a(100),m=a.n(u),f=a(55),p=a(183),d=function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),s=a[0],l=a[1],i=Object(r.useState)(),u=Object(n.a)(i,2),d=u[0],E=u[1],g=Object(r.useState)(),N=Object(n.a)(g,2),h=N[0],b=N[1],v=Object(r.useState)(),y=Object(n.a)(v,2),j=y[0],_=y[1];function k(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll(".c-lineup-content")}Object(r.useEffect)((function(){A()}),s);var A=function(){var e=Object(p.a)(m.a.mark((function e(){var t,a,n,r,c,s,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere--clone.herokuapp.com/","http://countdownjapan.jp/1920/lineup/artists/",e.next=4,fetch("https://cors-anywhere--clone.herokuapp.com/http://countdownjapan.jp/1920/lineup/artists/");case 4:return t=e.sent,e.next=7,t.text();case 7:a=e.sent,n=k(a),r=Object(f.a)(n[0].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),l(r),c=Object(f.a)(n[1].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),E(c),s=Object(f.a)(n[2].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),b(s),i=Object(f.a)(n[3].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),_(i);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){e.target.nextElementSibling.style.display="none"===e.target.nextElementSibling.style.display?"block":"none"};return c.a.createElement("ul",null,c.a.createElement("li",{className:"year"},"2019"),c.a.createElement("ul",null,c.a.createElement("li",{className:"fesName"},"CDJ"),c.a.createElement("ul",null,c.a.createElement("li",{className:"date",onClick:O},"12/28"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(o,{artists:s,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onClick:O},"12/29"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(o,{artists:d,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onClick:O},"12/30"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(o,{artists:h,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onClick:O},"12/31"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(o,{artists:j,getArtistName:e.getArtistName}))),c.a.createElement("li",{className:"fesName"},"RIJF")))}}},[[184,1,2]]]);
//# sourceMappingURL=main.bce911c2.chunk.js.map