(this["webpackJsonpfes-preparation"]=this["webpackJsonpfes-preparation"]||[]).push([[0],{102:function(e,t,n){"use strict";(function(e){var a=n(16),r=n(0),c=n.n(r),i=n(66);t.a=function(t){var o=Object(r.useState)([]),s=Object(a.a)(o,2),l=s[0],u=s[1];Object(r.useEffect)((function(){p()}),[t.searchArtistName]);var m=n(194),f={url:"https://accounts.spotify.com/api/token",headers:{Authorization:"Basic "+new e("81e31de55e6244b59d4f6255fd70057e:91e9a4434f46445280bd942c2f94280a").toString("base64")},form:{grant_type:"client_credentials"},json:!0},p=function(){m.post(f,(function(e,n,a){if(!e&&200===n.statusCode){var r=a.access_token,c={url:"https://api.spotify.com/v1/search?q=".concat(t.searchArtistName,"&type=artist"),headers:{Authorization:"Bearer "+r},json:!0};m.get(c,(function(e,t,n){var a=n.artists.items[0].id;console.log(a),"1SJOL9HJ08YOn92lFcYf8a"===a?a="7xx0gYr6iMecpDbSynNzWF":"20UYCAvAHJ1WqrCElptD7O"===a&&(a="6NlY4hC3DxmaCG2rSZv0fL"),m.post(f,(function(e,t,n){if(!e&&200===t.statusCode){var r=n.access_token,c={url:"https://api.spotify.com/v1/artists/".concat(a,"/top-tracks?country=JP"),headers:{Authorization:"Bearer "+r},json:!0};m.get(c,(function(e,t,n){u(n.tracks)}))}}))}))}}))};return console.log(l),c.a.createElement("div",{className:"songs"},l.map((function(e,t){return c.a.createElement(i.d,{rank:t,songName:e.name,image:e.album.images[1].url,audio:e.preview_url,spotifyLink:e.external_urls.spotify})})))}}).call(this,n(3).Buffer)},184:function(e,t,n){e.exports=n(420)},189:function(e,t,n){},190:function(e,t,n){},191:function(e,t,n){},208:function(e,t){},210:function(e,t){},220:function(e,t){},222:function(e,t){},247:function(e,t){},249:function(e,t){},250:function(e,t){},256:function(e,t){},258:function(e,t){},276:function(e,t){},279:function(e,t){},295:function(e,t){},298:function(e,t){},303:function(e,t){},305:function(e,t){},328:function(e,t){},420:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(182),i=n.n(c),o=(n(189),n(190),n(191),n(66)),s=function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement(o.c,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},66:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return o.a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d}));var a=n(16),r=n(0),c=n.n(r),i=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),n=t[0],i=t[1],s=Object(r.useState)("\u30b5\u30ab\u30ca\u30af\u30b7\u30e7\u30f3"),l=Object(a.a)(s,2),u=l[0],m=l[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:"search-form",onSubmit:function(e){e.preventDefault(),m(n)}},c.a.createElement("input",{className:"search-bar",type:"text",value:n,onChange:function(e){i(e.target.value)}}),c.a.createElement("button",{className:"search-button",type:"submit"},"\u691c\u7d22")),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"container__left"},c.a.createElement(d,{getArtistName:function(e){i(e.target.textContent),m(e.target.textContent)}})),c.a.createElement("div",{className:"container__right"},c.a.createElement(o.a,{searchArtistName:u}))))},o=n(102),s=function(e){return c.a.createElement("div",{className:"song"},c.a.createElement("p",null,c.a.createElement("span",null,e.rank+1,"\u4f4d "),c.a.createElement("span",null,e.songName)),c.a.createElement("img",{width:"100px",height:"100px",src:e.image,alt:""}),null===e.audio?c.a.createElement(c.a.Fragment,null):c.a.createElement("audio",{controls:!0,preload:"none",name:"media",src:e.audio,type:"audio/mpeg",onPlay:function(){document.querySelector("audio").volume=.3}}),c.a.createElement("a",{href:e.spotifyLink,target:"_blank",rel:"noopener noreferrer"},"\u30d5\u30eb\u3067\u805e\u304f"))},l=function(e){var t=Object(r.useState)(""),n=Object(a.a)(t,2);n[0],n[1];return c.a.createElement(c.a.Fragment,null,void 0===e.artists?c.a.createElement(c.a.Fragment,null):e.artists.map((function(t){return c.a.createElement("li",{onDoubleClick:e.getArtistName},t)})))},u=n(100),m=n.n(u),f=n(55),p=n(183),d=function(e){var t=Object(r.useState)(),n=Object(a.a)(t,2),i=n[0],o=n[1],s=Object(r.useState)(),u=Object(a.a)(s,2),d=u[0],E=u[1],g=Object(r.useState)(),b=Object(a.a)(g,2),h=b[0],N=b[1],y=Object(r.useState)(),v=Object(a.a)(y,2),j=v[0],O=v[1];function k(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll(".c-lineup-content")}Object(r.useEffect)((function(){A()}),i);var A=function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,a,r,c,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://cors-anywhere--clone.herokuapp.com/","http://countdownjapan.jp/1920/lineup/artists/",e.next=4,fetch("https://cors-anywhere--clone.herokuapp.com/http://countdownjapan.jp/1920/lineup/artists/");case 4:return t=e.sent,e.next=7,t.text();case 7:n=e.sent,a=k(n),r=Object(f.a)(a[0].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),o(r),c=Object(f.a)(a[1].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),E(c),i=Object(f.a)(a[2].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),N(i),s=Object(f.a)(a[3].querySelectorAll(".c-artist__title")).map((function(e){return e.textContent})),O(s);case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){e.target.nextElementSibling.style.display="none"===e.target.nextElementSibling.style.display?"block":"none"};return c.a.createElement("ul",null,c.a.createElement("li",{className:"year"},"2019"),c.a.createElement("ul",null,c.a.createElement("li",{className:"fesName"},"CDJ"),c.a.createElement("ul",null,c.a.createElement("li",{className:"date",onDoubleClick:S},"12/28"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(l,{artists:i,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onDoubleClick:S},"12/29"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(l,{artists:d,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onDoubleClick:S},"12/30"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(l,{artists:h,getArtistName:e.getArtistName})),c.a.createElement("li",{className:"date",onDoubleClick:S},"12/31"),c.a.createElement("ul",{className:"artistList",style:{display:"none"}},c.a.createElement(l,{artists:j,getArtistName:e.getArtistName}))),c.a.createElement("li",{className:"fesName"},"RIJF")))}}},[[184,1,2]]]);
//# sourceMappingURL=main.b5b6c420.chunk.js.map